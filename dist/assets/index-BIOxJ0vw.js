(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();window.searchAddress=function(){var r=document.getElementById("addressInput").value,o="c592a3d99b8d43878cf7d727d44187ce",l=`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(r)}&key=${o}`;fetch(l).then(t=>t.json()).then(t=>{if(t.results.length>0){var s=t.results[0].geometry;n.getView().setCenter(ol.proj.fromLonLat([s.lng,s.lat])),n.getView().setZoom(17),p([s.lng,s.lat])}else alert("Adresse nicht gefunden")}).catch(t=>{console.error("Geokodierung-Fehler:",t)})};var b=document.getElementById("addressInput");b.addEventListener("keydown",function(e){e.key==="Enter"&&searchAddress()});function p(e){var r=new ol.layer.Vector({source:new ol.source.Vector({features:[new ol.Feature({geometry:new ol.geom.Point(e)})]}),style:new ol.style.Style({image:new ol.style.Icon({src:"./data/marker1.jpg",scale:1})})});n.addLayer(r)}const S=new ol.control.Attribution({collapsible:!0}),m=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(209, 100, 253, 1)",width:3})}),_=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(209, 32, 253, 1)",width:4})}),v=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"rgba(209, 32, 253, 1)"}),stroke:new ol.style.Stroke({color:"black",width:2}),points:4,radius:7,angle:Math.PI/4})}),h=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"rgba(209, 32, 253, 1"}),stroke:new ol.style.Stroke({color:"black",width:.5}),points:4,radius:7,angle:Math.PI/2})}),k=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"rgba(209, 32, 253, 1"}),stroke:new ol.style.Stroke({color:"black",width:2}),points:4,radius:7,angle:Math.PI/4})}),L=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"green"}),stroke:new ol.style.Stroke({color:"black",width:2}),points:3,radius:7,rotation:0})}),x=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"blue"}),stroke:new ol.style.Stroke({color:"grey",width:1}),points:4,radius:7,angle:Math.PI/4})}),T=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"rgba(100, 100, 100, 1)"}),stroke:new ol.style.Stroke({color:"grey",width:1}),points:4,radius:6,angle:Math.PI/4})}),M=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"red"}),stroke:new ol.style.Stroke({color:"grey",width:2}),points:4,radius:7,angle:Math.PI/4})}),O=new ol.style.Style({stroke:new ol.style.Stroke({color:"grey",width:.5})});function E(e){const r=e.get("Ein_ord");let o,l;switch(r){case"1. Ordnung":o="rgba(0, 68, 255, .8)",l="black";break;case"2. Ordnung":o="rgba(214, 0, 0, .8)",l="black";break;case"3. Ordnung":o="rgba(114, 114, 114, .8)",l="black";break;case"Sonstige":o="rgba(27, 117, 0, .8)",l="black";break;default:o="grey",l="grey"}return new ol.style.Style({image:new ol.style.Circle({fill:new ol.style.Fill({color:o}),stroke:new ol.style.Stroke({color:l,width:.5}),radius:7})})}function A(e){const r=e.get("Art");let o,l;switch(r){case"p":o="rgba(200, 200, 200, .6)",l="black";break;case"o":o="rgba(255, 220, 220, .6)",l="black";break;case"l":o="rgba(255, 190, 150, .6)",l="black";break;default:o="rgba(255, 255, 255, 1)",l="grey"}return new ol.style.Style({fill:new ol.style.Fill({color:o}),stroke:new ol.style.Stroke({color:l,width:.5})})}const d=new ol.View({center:ol.proj.fromLonLat([7.35,52.7]),zoom:9}),n=new ol.Map({target:"map",view:d,controls:ol.control.defaults().extend([S])}),R=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_allgm_fsk.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"fsk",style:A,visible:!1,minResolution:0,maxResolution:4}),V=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_gew_info.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"gew_info",style:m,visible:!1}),I=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_son_lin.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"son_lin",style:_,visible:!1}),G=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_son_pun.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"son_pun",style:v,visible:!1}),N=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_ein.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"ein",style:E,visible:!1}),j=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_que.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"que",style:h,visible:!1}),W=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_due.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"due",style:k,visible:!1}),F=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_weh.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"weh",style:L,visible:!1}),P=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_bru_nlwkn.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"bru_nlwkn",style:x,visible:!1}),B=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_bru_andere.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"bru_andere",style:T,visible:!1}),D=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/exp_bw_sle.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"sle",style:M,visible:!0}),Y=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/km_10_scal.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"km10scal",style:O,visible:!0,minResolution:0,maxResolution:1}),J=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/km_100_scal.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"km100scal",style:function(e,r){return C(e,e.get("TextString"),r)},visible:!0,minResolution:0,maxResolution:3}),C=function(e,r,o){var l=0,t=5;return o>l&&o<t?new ol.style.Style({text:new ol.style.Text({text:r,font:'normal 18px "Arial Light", "Helvetica Neue Light", Arial, sans-serif',offsetX:-10,offsetY:10,fill:new ol.style.Fill({color:"rgba(128, 128, 128, 1)"}),stroke:new ol.style.Stroke({color:"#000000",width:.25})})}):null},H=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/km_500_scal.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"km500scal",style:function(e,r){return z(e,e.get("TextString"),r)},visible:!0,minResolution:0,maxResolution:10}),z=function(e,r,o){var l=0,t=10;return o>l&&o<t?new ol.style.Style({text:new ol.style.Text({text:r,font:'normal 20px "Arial Light", "Helvetica Neue Light", Arial, sans-serif',offsetX:-10,offsetY:10,fill:new ol.style.Fill({color:"rgba(0, 0, 0, 1)"}),stroke:new ol.style.Stroke({color:"#000000",width:.25})})}):null},q=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(e){return"./myLayers/gew.geojson?bbox="+e.join(",")},strategy:ol.loadingstrategy.bbox}),title:"gew",name:"gew",style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,28, 240, 0.4)"}),stroke:new ol.style.Stroke({color:"blue",width:2})})}),K=new ol.control.LayerSwitcher({});n.addControl(K);var c=document.createElement("div");c.className="get-position ol-unselectable ol-control";c.id="Button";const i=document.createElement("button");i.innerHTML="P";c.appendChild(i);document.body.appendChild(c);var a=new ol.Geolocation({projection:n.getView().getProjection(),tracking:!1,trackingOptions:{enableHighAccuracy:!0,maximumAge:5e3}}),f=function(e){console.log("Button wurde geklickt!");var r=a.getTracking();r?(a.setTracking(!1),console.log("Tracking wurde gestoppt.")):(a.setTracking(!0),console.log("Tracking wurde gestartet."))};i.addEventListener("click",f,!1);i.addEventListener("touchstart",f,!1);var y=new ol.Feature,g=new ol.Feature;new ol.layer.Vector({map:n,source:new ol.source.Vector({features:[y,g]}),style:new ol.style.Style({image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"blue"}),stroke:new ol.style.Stroke({color:"white",width:2})})})});function X(){a.on("change:accuracyGeometry",function(){y.setGeometry(a.getAccuracyGeometry())}),a.on("change:position",function(){var e=a.getPosition();g.setGeometry(e?new ol.geom.Point(e):null),d.setCenter(e)})}function Z(){a.setTracking(!0),X()}function U(){a.setTracking(!1),y.setGeometry(null),g.setGeometry(null)}i.addEventListener("click",function(){var e=a.getTracking();e?U():Z()});const $=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/Hydro_wms/MapServer/WMSServer",params:{LAYERS:"Gewässernetz_1._Ordnung29778",TILED:!0,TRANSPARENT:!0},serverType:"arcgis",crossOrigin:"anonymous"}),title:"1. Ordn.",visible:!0}),Q=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/Hydro_wms/MapServer/WMSServer",params:{LAYERS:"Gewässernetz_2._Ordnung8177",TILED:!0},serverType:"arcgis",crossOrigin:"anonymous"}),title:"2. Ordn.",visible:!1,minResolution:0,maxResolution:75}),ee=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/Hydro_wms/MapServer/WMSServer",params:{LAYERS:"Gewässernetz_3.Ordnung9928",TILED:!0},serverType:"arcgis",crossOrigin:"anonymous"}),title:"3. Ordn.",visible:!1,minResolution:0,maxResolution:6}),te=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"10",TILED:"true",VERSION:"1.3.0"}}),title:"2023",opacity:1,visible:!1}),oe=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"9",TILED:"true",VERSION:"1.3.0"}}),title:"2020",opacity:1,visible:!1}),re=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"8",TILED:"true",VERSION:"1.3.0"}}),title:"2017",opacity:1,visible:!1}),le=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"7",TILED:"true",VERSION:"1.3.0"}}),title:"2014",opacity:1,visible:!1}),se=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"6",TILED:"true",VERSION:"1.3.0"}}),title:"2012",opacity:1,visible:!1}),ne=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"5",TILED:"true",VERSION:"1.3.0"}}),title:"2010",opacity:1,visible:!1}),ae=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"4",TILED:"true",VERSION:"1.3.0"}}),title:"2009",opacity:1,visible:!1}),ie=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"3",TILED:"true",VERSION:"1.3.0"}}),title:"2002",opacity:1,visible:!1}),ce=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"2",TILED:"true",VERSION:"1.3.0"}}),title:"1970",opacity:1,visible:!1}),ue=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"1",TILED:"true",VERSION:"1.3.0"}}),title:"1957",opacity:1,visible:!1}),ye=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"0",TILED:"true",VERSION:"1.3.0"}}),title:"1937",opacity:1,visible:!1});var ge=new ol.layer.Tile({title:"DOP20 NI",opacity:1,visible:!1,type:"base",source:new ol.source.TileWMS({url:"https://www.geobasisdaten.niedersachsen.de/doorman/noauth/wms_ni_dop",attributions:"Orthophotos Niedersachsen, LGLN",params:{LAYERS:"dop20",TILED:!0,VERSION:"1.3.0"}})});const we=new ol.layer.Tile({title:"GoogleSat",type:"base",baseLayer:!1,visible:!1,source:new ol.source.TileImage({url:"http://mt1.google.com/vt/lyrs=s&hl=pl&&x={x}&y={y}&z={z}"})}),de=new ol.layer.Tile({title:"ESRI",type:"base",opacity:1,visible:!1,source:new ol.source.XYZ({attributions:"Powered by Esri",url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),fe=new ol.layer.Tile({title:"osm",type:"base",source:new ol.source.OSM({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",attributions:["© OpenStreetMap contributors",'Tiles courtesy of <a href="https://www.openstreetmap.org/"></a>']})}),w=new ol.layer.Group({title:"WMS-Lay",fold:!0,fold:"close",layers:[ee,Q,$]});w.setVisible(!1);const be=new ol.layer.Group({title:"GN-DOP's",fold:!0,fold:"close",layers:[te,oe,re,le,se,ne,ae,ie,ce,ue,ye]});w.setVisible(!1);const pe=new ol.layer.Group({title:"Bauw.",fold:!0,fold:"close",layers:[V,I,G,N,B,P,j,W,F,D]}),Se=new ol.layer.Group({title:"Station",fold:!0,fold:"close",layers:[Y,J,H]}),me=new ol.layer.Group({title:"Base",fold:!0,fold:"close",layers:[de,we,ge,fe]});n.addLayer(me);n.addLayer(be);n.addLayer(R);n.addLayer(q);n.addLayer(w);n.addLayer(Se);n.addLayer(pe);
