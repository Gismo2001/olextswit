(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))y(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&y(a)}).observe(document,{childList:!0,subtree:!0});function f(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function y(e){if(e.ep)return;e.ep=!0;const t=f(e);fetch(e.href,t)}})();const m=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"red"}),stroke:new ol.style.Stroke({color:"grey",width:2}),points:4,radius:7,angle:Math.PI/4})}),w=new ol.control.Attribution({collapsible:!1}),d=new ol.View({center:ol.proj.fromLonLat([7.35,52.7]),zoom:15}),s=new ol.Map({target:"map",view:d,controls:ol.control.defaults().extend([w])}),h=new ol.control.LayerSwitcher({});s.addControl(h);var i=document.createElement("div");i.className="get-position ol-unselectable ol-control";i.id="PositionButton";var n=document.createElement("button");n.innerHTML="P";i.appendChild(n);document.body.appendChild(i);var o=new ol.Geolocation({projection:s.getView().getProjection(),tracking:!1,trackingOptions:{enableHighAccuracy:!0,maximumAge:5e3}}),g=function(r){var l=o.getTracking();l?o.setTracking(!1):(o.setTracking(!0),getPosition())};n.addEventListener("click",g,!1);n.addEventListener("touchstart",g,!1);var c=new ol.Feature,u=new ol.Feature;new ol.layer.Vector({map:s,source:new ol.source.Vector({features:[c,u]}),style:new ol.style.Style({image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"blue"}),stroke:new ol.style.Stroke({color:"white",width:2})})})});function b(){o.on("change:accuracyGeometry",function(){c.setGeometry(o.getAccuracyGeometry())}),o.on("change:position",function(){var r=o.getPosition();u.setGeometry(r?new ol.geom.Point(r):null),d.setCenter(r)})}function p(){o.setTracking(!0),b()}function v(){o.setTracking(!1),c.setGeometry(null),u.setGeometry(null)}n.addEventListener("click",function(){var r=o.getTracking();r?v():p()});p();new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(r){return"./myLayers/exp_bw_sle.geojson?bbox="+r.join(",")},strategy:ol.loadingstrategy.bbox}),title:"sle",style:m,visible:!0});const S=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/Hydro_wms/MapServer/WMSServer",params:{LAYERS:"Gewässernetz",TILED:!0},serverType:"arcgis",crossOrigin:"anonymous"}),title:"hydro"}),L=new ol.layer.Tile({title:"GoogleSat",type:"base",baseLayer:!1,visible:!1,source:new ol.source.TileImage({url:"http://mt1.google.com/vt/lyrs=s&hl=pl&&x={x}&y={y}&z={z}"})}),T=new ol.layer.Tile({title:"ESRI",type:"base",opacity:1,visible:!1,source:new ol.source.XYZ({attributions:"Powered by Esri",url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),k=new ol.layer.Tile({title:"osm",type:"base",source:new ol.source.OSM({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",attributions:["© OpenStreetMap contributors",'Tiles courtesy of <a href="https://www.openstreetmap.org/"></a>']})});new ol.layer.Group({title:"Hintergrund",fold:!0,fold:"close",layers:[T,L,k]});s.addLayer(S);
