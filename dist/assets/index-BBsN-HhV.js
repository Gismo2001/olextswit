(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const g of l.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&n(g)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();const G=new ol.style.Style({image:new ol.style.Icon({src:"./data/sle.svg",scale:.9})}),N=new ol.style.Style({image:new ol.style.Icon({src:"./data/weh.svg",scale:.9})}),W=new ol.style.Style({image:new ol.style.Icon({src:"./data/bru_nlwkn.svg",scale:.9})}),F=new ol.style.Style({image:new ol.style.Icon({src:"./data/bru_andere.svg",scale:.9})}),B=new ol.style.Style({image:new ol.style.Icon({src:"./data/due.svg",scale:.9})}),V=new ol.style.Style({image:new ol.style.Icon({src:"./data/que.svg",scale:.9})}),P=new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"rgba(209, 32, 253, 1)"}),stroke:new ol.style.Stroke({color:"black",width:2}),points:4,radius:7,angle:Math.PI/4})}),j=new ol.style.Style({stroke:new ol.style.Stroke({color:"grey",width:.5})}),D=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(173, 114, 3, 1)",width:3})}),C=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(209, 32, 253, 1)",width:4})});function z(t){const e=t.get("Ein_ord");let r;switch(e){case"1. Ordnung":r="./data/einErsterOrdnung.svg";break;case"2. Ordnung":r="./data/einZweiterOrdnung.svg";break;case"3. Ordnung":r="./data/einDritterOrdnung.svg";break;case"Einleitung":r="./data/einEinleitung.svg";break;case"Sonstige":r="./data/einSonstige.svg";break;default:r="./data/einSonstige.svg"}return new ol.style.Style({image:new ol.style.Icon({src:r,scale:.9})})}function Y(t){console.log(t.get("Art"))}function J(t){const e=t.get("Art");let r,n;switch(e){case"p":r="rgba(200, 200, 200, .6)",n="black";break;case"o":r="rgba(255, 220, 220, .6)",n="black";break;case"l":r="rgba(255, 190, 150, .6)",n="black";break;default:r="rgba(255, 255, 255, 1)",n="grey"}return new ol.style.Style({fill:new ol.style.Fill({color:r}),stroke:new ol.style.Stroke({color:n,width:.5})})}function K(t){const e=t.get("Massn_ID");let r;switch(e){case 23:r="rgba(135, 101, 0, 0.1)";break;case 9:r="red";break;case 4:r="blue";break;case 11:r="blue";break;case 1:r="blue";break;default:r="grey"}return new ol.style.Style({stroke:new ol.style.Stroke({color:r,width:5})})}const H=function(t,e,r){var n=0,o=5;return r>n&&r<o?new ol.style.Style({text:new ol.style.Text({text:e,font:'normal 18px "Arial Light", "Helvetica Neue Light", Arial, sans-serif',offsetX:-10,offsetY:10}),stroke:new ol.style.Stroke({color:"black",width:1})}):null},U=function(t,e,r){var n=0,o=10;return r>n&&r<o?new ol.style.Style({text:new ol.style.Text({text:e,font:'normal 20px "Arial Light", "Helvetica Neue Light", Arial, sans-serif',offsetX:-10,offsetY:10,fill:new ol.style.Fill({color:"rgba(0, 0, 0, 1)"})}),stroke:new ol.style.Stroke({color:"black",width:2})}):null};var q={};const X=new ol.style.Style({stroke:new ol.style.Stroke({color:"black",width:4}),geometry:function(t){const e=t.getGeometry().getCoordinates(),r=new ol.geom.LineString(e),n=e[e.length-1],o=e[e.length-2],l=n[0]-o[0],g=n[1]-o[1],u=Math.atan2(g,l),i=15,w=[n[0]-i*Math.cos(u-Math.PI/8),n[1]-i*Math.sin(u-Math.PI/8)],a=[n[0]-i*Math.cos(u+Math.PI/8),n[1]-i*Math.sin(u+Math.PI/8)];return r.setCoordinates([...e,w,n,a]),r}}),Z=new ol.style.Style({geometry:function(t){const e=t.getGeometry().getCoordinates();return new ol.geom.Point(e[e.length-1])},image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"red"}),stroke:new ol.style.Stroke({color:"black",width:2})})}),$=[X,Z];window.searchAddress=function(){var e=document.getElementById("addressInput").value,r=q.API_KEY||"c592a3d99b8d43878cf7d727d44187ce",n=`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(e)}&key=${r}`;fetch(n).then(o=>o.json()).then(o=>{if(o.results.length>0){var l=o.results[0].geometry;s.getView().setCenter(ol.proj.fromLonLat([l.lng,l.lat])),s.getView().setZoom(17),ee([l.lng,l.lat])}else alert("Adresse nicht gefunden")}).catch(o=>{console.error("Geokodierung-Fehler:",o),te()})};var Q=document.getElementById("addressInput");Q.addEventListener("keydown",function(t){t.key==="Enter"&&searchAddress()});function ee(t){alert(" marker ");var e=new ol.layer.Vector({source:new ol.source.Vector({features:[new ol.Feature({geometry:new ol.geom.Point(t)})]}),style:new ol.style.Style({image:new ol.style.Icon({src:"./data/marker1.jpg",scale:10})})});s.addLayer(e)}function te(){alert(" marker "),s.getLayers().getArray().forEach(function(t){t.get("tempMarker")&&s.removeLayer(t)})}const oe=new ol.control.Attribution({collapsible:!1}),re=new ol.control.ZoomToExtent({extent:[727361,6839277,858148,6990951]}),M=new ol.View({center:ol.proj.fromLonLat([7.35,52.7]),zoom:9}),s=new ol.Map({target:"map",view:M,controls:ol.control.defaults().extend([oe,re])}),ne=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/gehoelz_vec.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Gehölz(Plan)",name:"gehoelz_vec",style:D,visible:!1}),le=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_allgm_fsk.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"fsk",name:"fsk",style:J,visible:!1,minResolution:0,maxResolution:4}),se=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_gew_info.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Gew, Info",name:"gew_info",style:$,visible:!1}),ae=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_gew_umn.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"U-Maßnahmen",name:"gew_umn",style:K,visible:!1}),ie=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_son_lin.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Sonstige, Linien",name:"son_lin",style:C,visible:!1}),ce=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_son_pun.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Sonstige, Punkte",name:"son_pun",style:P,visible:!1}),ue=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_ein.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Einläufe",name:"ein",style:z,visible:!1}),ge=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_que.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Querung",name:"que",style:V,visible:!1}),ye=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_due.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Düker",name:"due",style:B,visible:!1}),de=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_weh.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Wehr",name:"weh",style:N,visible:!1}),we=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_bru_nlwkn.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Brücke (NLWKN)",name:"bru_nlwkn",style:W,visible:!1}),pe=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_bru_andere.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Brücke (andere)",name:"bru_andere",style:F,visible:!1}),me=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/exp_bw_sle.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"Schleuse",name:"sle",style:G,visible:!0}),be=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/km_10_scal.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"km10scal",style:j,visible:!0,minResolution:0,maxResolution:1}),fe=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/km_100_scal.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"km100scal",style:function(t,e){return H(t,t.get("TextString"),e)},visible:!0,minResolution:0,maxResolution:3}),Se=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/km_500_scal.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"km500scal",style:function(t,e){return U(t,t.get("TextString"),e)},visible:!0,minResolution:0,maxResolution:10}),ve=new ol.layer.Vector({source:new ol.source.Vector({format:new ol.format.GeoJSON,url:function(t){return"./myLayers/gew.geojson?bbox="+t.join(",")},strategy:ol.loadingstrategy.bbox}),title:"gew",name:"gew",style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(0,28, 240, 0.4)"}),stroke:new ol.style.Stroke({color:"blue",width:2})})}),x=new ol.layer.Tile({title:"NSG",name:"NSG",source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/Natur_wms/MapServer/WMSServer",params:{LAYERS:"Naturschutzgebiet",FORMAT:"image/png",TRANSPARENT:!0,TILED:!0}}),visible:!1,opacity:.5}),E=new ol.layer.Tile({title:"LSG",name:"LSG",source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/Natur_wms/MapServer/WMSServer",params:{LAYERS:"Landschaftsschutzgebiet",FORMAT:"image/png",TRANSPARENT:!0,TILED:!0}}),visible:!1,opacity:.5}),T=new ol.layer.Tile({title:"ÜSG",name:"ÜSG",source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/HWSchutz_wms/MapServer/WMSServer",params:{LAYERS:"Überschwemmungsgebiete_Verordnungsfläechen_Niedersachsen11182",FORMAT:"image/png",TRANSPARENT:!0,TILED:!0}}),visible:!1,opacity:.5}),A=new ol.layer.Tile({title:"Fließgew.",name:"Fließgew.",source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/WRRL_wms/MapServer/WMSServer",params:{LAYERS:"Fliessgewaesser_WRRL",FORMAT:"image/png",TRANSPARENT:!0,TILED:!0}}),visible:!1,opacity:1}),I=new ol.layer.Tile({title:"GewWms",name:"GewWms",source:new ol.source.TileWMS({url:"https://www.umweltkarten-niedersachsen.de/arcgis/services/Hydro_wms/MapServer/WMSServer",params:{LAYERS:"Gewässernetz",FORMAT:"image/png",TRANSPARENT:!0,TILED:!0}}),visible:!1,opacity:1}),he=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"10",TILED:"true",VERSION:"1.3.0"}}),title:"2023",opacity:1,visible:!1}),_e=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"9",TILED:"true",VERSION:"1.3.0"}}),title:"2020",opacity:1,visible:!1}),ke=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"8",TILED:"true",VERSION:"1.3.0"}}),title:"2017",opacity:1,visible:!1}),Le=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"7",TILED:"true",VERSION:"1.3.0"}}),title:"2014",opacity:1,visible:!1}),Me=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"6",TILED:"true",VERSION:"1.3.0"}}),title:"2012",opacity:1,visible:!1}),xe=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"5",TILED:"true",VERSION:"1.3.0"}}),title:"2010",opacity:1,visible:!1}),Ee=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"4",TILED:"true",VERSION:"1.3.0"}}),title:"2009",opacity:1,visible:!1}),Te=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"3",TILED:"true",VERSION:"1.3.0"}}),title:"2002",opacity:1,visible:!1}),Ae=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"2",TILED:"true",VERSION:"1.3.0"}}),title:"1970",opacity:1,visible:!1}),Ie=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"1",TILED:"true",VERSION:"1.3.0"}}),title:"1957",opacity:1,visible:!1}),Re=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://geo.grafschaft.de/arcgis/services/Migratrion_Okt_2020/BAS_Luftbilder_2/MapServer/WMSServer",attributions:" ",params:{LAYERS:"0",TILED:"true",VERSION:"1.3.0"}}),title:"1937",opacity:1,visible:!1}),Oe=new ol.layer.Tile({source:new ol.source.TileWMS({url:"https://sgx.geodatenzentrum.de/wms_basemapde",params:{LAYERS:"WMS DE BASEMAP.DE WEB RASTER",TILED:!0},crossOrigin:"anonymous"}),title:"base grau",visible:!1,minResolution:0,maxResolution:75});var Ge=new ol.layer.Tile({title:"DOP20 NI",opacity:1,visible:!1,type:"base",source:new ol.source.TileWMS({url:"https://www.geobasisdaten.niedersachsen.de/doorman/noauth/wms_ni_dop",attributions:"Orthophotos Niedersachsen, LGLN",params:{LAYERS:"dop20",TILED:!0,VERSION:"1.3.0"}})});const Ne=new ol.layer.Tile({title:"GoogleSat",type:"base",baseLayer:!1,visible:!1,source:new ol.source.TileImage({url:"http://mt1.google.com/vt/lyrs=s&hl=pl&&x={x}&y={y}&z={z}"})}),We=new ol.layer.Tile({title:"ESRI",type:"base",opacity:1,visible:!1,source:new ol.source.XYZ({attributions:"Powered by Esri",url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),Fe=new ol.layer.Tile({title:"osm",type:"base",source:new ol.source.OSM({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",attributions:["© OpenStreetMap contributors",'Tiles courtesy of <a href="https://www.openstreetmap.org/"></a>']})}),Be=new ol.control.LayerSwitcher({});s.addControl(Be);var f=document.createElement("div");f.className="getMeasure";f.id="ButtonM";const S=document.createElement("button");S.innerHTML="M";f.appendChild(S);document.body.appendChild(f);var v=document.createElement("div");v.className="get-position ol-unselectable ol-control";v.id="Button";const m=document.createElement("button");m.innerHTML="P";v.appendChild(m);document.body.appendChild(v);var d=new ol.Geolocation({projection:s.getView().getProjection(),tracking:!1,trackingOptions:{enableHighAccuracy:!0,maximumAge:5e3}}),R=function(t){var e=d.getTracking();e?d.setTracking(!1):d.setTracking(!0)};m.addEventListener("click",R,!1);m.addEventListener("touchstart",R,!1);var O=new ol.Feature,L=new ol.Feature;function Ve(){d.on("change:accuracyGeometry",function(){O.setGeometry(d.getAccuracyGeometry())}),d.on("change:position",function(){var t=d.getPosition();L.setGeometry(t?new ol.geom.Point(t):null),M.setCenter(t)})}function Pe(){d.setTracking(!0),Ve()}function je(){d.setTracking(!1),O.setGeometry(null),L.setGeometry(null)}m.addEventListener("click",function(){var t=d.getTracking();t?je():Pe()});S.addEventListener("click",function(){alert("jetzt richtig gecklickt")});S.addEventListener("touchstart",function(){alert("jetzt richtig gecklickt")});const De=new ol.layer.Group({title:"WMS-Lay",name:"WMS-Lay",fold:!0,fold:"close",layers:[E,x,T,A,I]}),Ce=new ol.layer.Group({title:"GN-DOP's",fold:!0,fold:"close",layers:[he,_e,ke,Le,Me,xe,Ee,Te,Ae,Ie,Re]}),ze=new ol.layer.Group({title:"Bauw.(L)",fold:!0,fold:"close",layers:[ne,se,ae,ie]}),Ye=new ol.layer.Group({title:"Bauw.(P)",fold:!0,fold:"close",layers:[ce,ue,pe,we,ge,ye,de,me]}),Je=new ol.layer.Group({title:"Station",fold:!0,fold:"close",layers:[be,fe,Se]}),Ke=new ol.layer.Group({title:"Base",fold:!0,fold:"close",layers:[Oe,We,Ne,Ge,Fe]});s.addLayer(Ke);s.addLayer(Ce);s.addLayer(le);s.addLayer(ve);s.addLayer(De);s.addLayer(Je);s.addLayer(ze);s.addLayer(Ye);const He=new ol.source.Vector({features:[L]}),Ue=new ol.layer.Vector({displayInLayerSwitcher:!1,source:He,style:new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:"blue"}),stroke:new ol.style.Stroke({color:"white",width:2})})})});s.addLayer(Ue);var qe=document.getElementById("popup"),p=document.getElementById("popup-content"),k=document.getElementById("popup-closer"),y=new ol.Overlay({element:qe,id:"1",autoPan:!0,autoPanAnimation:{duration:250}});s.addOverlay(y);k.onclick=function(){return y.setPosition(void 0),k.blur(),!1};s.on("singleclick",function(t){if(s.getLayers().getArray().some(r=>r.get("name")==="WMS-Lay"&&r.getVisible())){const r=[{layer:I,name:"GewWms"},{layer:A,name:"WRRL"},{layer:T,name:"ÜSG"},{layer:x,name:"NSG"},{layer:E,name:"LSG"}],n=s.getView().getResolution(),o=s.getView().getProjection();r.forEach(({layer:l,name:g})=>{if(l.getVisible()){const u=l.getSource().getGetFeatureInfoUrl(t.coordinate,n,o,{INFO_FORMAT:"text/html"});u&&fetch(u).then(i=>i.text()).then(i=>{if(i.trim()!==""){const w=document.getElementById("info");w&&w.remove();const a=document.createElement("div");a.id="info",a.style.border="1px solid black",a.style.background="white",a.style.opacity="1",a.style.overflowX="auto",a.innerHTML=`<strong>${g} Layer</strong><br>${i}`,a.style.position="absolute",a.style.bottom="150px",a.style.width="100%",a.style.left="0px",a.style.zIndex="9999";const c=document.createElement("span");c.innerHTML="&times;",c.style.position="absolute",c.style.top="5px",c.style.right="5px",c.style.cursor="pointer",c.style.fontSize="20px",c.addEventListener("click",function(){a.style.display="none"}),a.appendChild(c),document.body.appendChild(a)}})}})}else console.log("Die wmsLayerGroup ist nicht eingeschaltet.")});var k=document.getElementById("popup-closer");s.on("click",function(t){s.forEachFeatureAtPixel(t.pixel,function(e,r){var n=r.get("name"),o=t.coordinates,l=e.get("beschreib_lang"),g="";if(l&&l.trim()!==""&&(g="<br><u>Beschreib (lang): </u>"+l+"</p>"),n!=="gew"&&n!=="km10scal"&&n!=="km100scal"&&n!=="km500scal"&&n!=="fsk"&&n!=="son_lin")if(console.log("Clicked on layer:",n),Y(e),e){o=e.getGeometry().getCoordinates(),y.setPosition(o);var u=e.get("foto1"),i="",w=e.get("foto2"),a="",c=e.get("foto3"),h="",b=e.get("foto4"),_="";u&&u.trim()!==""?i='<a href="'+u+`" onclick="window.open('`+u+`', '_blank'); return false;">Foto 1</a>`:i=" Foto 1 ",w&&w.trim()!==""?a='<a href="'+w+`" onclick="window.open('`+w+`', '_blank'); return false;">Foto 2</a>`:a=" Foto 2 ",c&&c.trim()!==""?h='<a href="'+c+`" onclick="window.open('`+c+`', '_blank'); return false;">Foto 3</a>`:h=" Foto 3 ",b&&b.trim()!==""?_='<a href="'+b+`" onclick="window.open('`+b+`', '_blank'); return false;">Foto 4</a>`:_=" Foto 4 ",p.innerHTML='<div style="max-height: 200px; overflow-y: auto;"><p style="font-weight: bold; text-decoration: underline;">'+e.get("name")+"</p><p>Id = "+e.get("bw_id")+" ("+e.get("KTR")+")</p><p>"+i+" "+a+" "+h+" "+_+"<br><u>Beschreibung (kurz): </u>"+e.get("beschreib")+"</p><p>"+g+"</p></div>"}else y.setPosition(void 0);n==="gew_info"&&(o=t.coordinate,y.setPosition(o),p.innerHTML='<div style="max-height: 300px; overflow-y: auto;"><p>Name: '+e.get("IDUabschn")+'<br><p><a href="'+e.get("link1")+`" onclick="window.open('`+e.get("link1")+`', '_blank'); return false;">Link 1</a> <a href="`+e.get("link2")+`" onclick="window.open('`+e.get("link2")+`', '_blank'); return false;">Link 2</a> <a href="`+e.get("foto1")+`" onclick="window.open('`+e.get("foto1")+`', '_blank'); return false;">Foto 1</a> <a href="`+e.get("foto2")+`" onclick="window.open('`+e.get("foto2")+`', '_blank'); return false;">Foto 2</a><br><p><a href="`+e.get("BSB")+`" onclick="window.open('`+e.get("BSB")+`', '_blank'); return false;">BSB  </a><a href="`+e.get("MNB")+`" onclick="window.open('`+e.get("MNB")+`', '_blank'); return false;">MNB</a><br> Kat: `+e.get("Kat")+"</a>, KTR: "+e.get("REFID_KTR")+"</a><br>von "+e.get("Bez_Anfang")+" bis "+e.get("Bez_Ende")+"</p></div>"),n==="gew_umn"&&(o=t.coordinate,y.setPosition(o),p.innerHTML='<div style="max-height: 300px; overflow-y: auto;"><p>ID: '+e.get("Massn_ID")+"<br><p>Bez (Art): "+e.get("UMnArtBez")+"<br><p>Bez (Gruppe): "+e.get("UMNGrBez")+"<br></div>"),n==="son_lin"&&(o=t.coordinate,y.setPosition(o),p.innerHTML='<div style="max-height: 300px; overflow-y: auto;"><p>Name: '+e.get("name")+" ("+e.get("KTR")+')<br><p><a href="'+e.get("foto1")+`" onclick="window.open('`+e.get("foto1")+`', '_blank'); return false;">Foto 1</a> <a href="`+e.get("foto2")+`" onclick="window.open('`+e.get("foto2")+`', '_blank'); return false;">Foto 2</a> <a href="`+e.get("foto3")+`" onclick="window.open('`+e.get("foto3")+`', '_blank'); return false;">Foto 3</a> <a href="`+e.get("foto4")+`" onclick="window.open('`+e.get("foto4")+`', '_blank'); return false;">Foto 4</a></p><br>Beschreib kurz = `+e.get("beschreib")+"</p>"+g+"</div>"),n==="gehoelz_vec"&&(o=t.coordinate,y.setPosition(o),p.innerHTML='<div style="max-height: 300px; overflow-y: auto;"><p>Gehölzentwicklung<br><br>Bemerk: '+e.get("UMn_Bemerk")+"</p></div>"),n==="fsk"&&(e.get("Art")==="o"||e.get("Art")==="l"?(o=t.coordinate,y.setPosition(o),p.innerHTML='<div style="max-height: 300px; overflow-y: auto;"><p><strong>gemark Flur Flurstück:</strong><br>'+e.get("Suche")+"</p>FSK: "+e.get("fsk")+"</p>FSK(ASL): "+e.get("FSK_ASL")+"</p><p>Eig.(öffentl.): "+e.get("Eig1")+"</p></div>"):(o=t.coordinate,y.setPosition(o),p.innerHTML='<div style="max-height: 300px; overflow-y: auto;"><p><strong>gemark Flur Flurstück:</strong><br>'+e.get("Suche")+"</p>FSK: "+e.get("fsk")+"</p><p>Art (p=privat): "+e.get("Art")+"</p><p>Eig.(privat): "+e.get("Eig1")+"</p></div>"))})});document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("popup"),e=document.getElementById("popup-closer"),r=document.createElement("div"),n=document.createElement("a");n.textContent="Weitere Infos",n.href="#",n.addEventListener("click",function(o){o.preventDefault();var l=window.open("","_blank");l.document.body.innerHTML="<p>Hallo neue Welt</p>"}),r.appendChild(n),r.appendChild(e),t.appendChild(r)});document.getElementById("popup-closer").onclick=function(){return y.setPosition(void 0),!1};
